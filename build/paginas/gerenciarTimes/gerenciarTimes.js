function inicializarBase(o,e,a,i){if(void 0===e&&(e=""),void 0===a&&(a=!1),void 0===i&&(i="auto"),$("#jqxMenu_menuPrincipal").jqxMenu({width:"640px",height:"36px",theme:o,showTopLevelArrows:!0,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0,animationHideDelay:0}),$("#jqxPanel_main").jqxResponsivePanel({width:"640px",height:i,collapseBreakpoint:"0",theme:o}),!a){var t=e+"imagens/pokelinia-topo",n=t+".png",m=t+"-destacado.png";(new Image).src=m,$("#img_logo").hover(function(){$(this).attr("src",m)},function(){$(this).attr("src",n)}),$("#a_logo").attr("href",e+"index.html")}}function finalizarBase(){$("body").css("visibility","visible")}function centralizarJanela(o){$(o).jqxWindow("move",($(window).width()-$(o).jqxWindow("width"))/2,99)}function adicionarPokemon(){var o=$("#jqxGrid_acaoPokemon_nome").jqxGrid("getselectedrowindex");if(-1!=o){var e=$("#jqxGrid_acaoPokemon_nome").jqxGrid("getrowdata",o).name,a=$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("getSelectedItems"),i=a.length;if(void 0===i&&(i=0),i>4)alert("Você selecionou "+i+" habilidades mas o máximo é 4.");else{for(var t="",n=0;n<i;++n)t+=a[n].label,n<i-1&&(t+=", ");var m=e+"\n"+t,r="<div><strong>"+e+"</strong></div><div>Habilidades: <em>"+t+"</em></div>";$("#jqxListBox_pokemons").jqxListBox("addItem",{value:m,html:r}),pokemonsAtuais[timeAtual].push(m),$("#jqxWindow_acaoPokemon").jqxWindow("close")}}else alert("Por favor selecione o nome do Pokémon.")}function editarPokemon(){var o=$("#jqxGrid_acaoPokemon_nome").jqxGrid("getselectedrowindex");if(-1!=o){var e=$("#jqxGrid_acaoPokemon_nome").jqxGrid("getrowdata",o).name,a=$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("getSelectedItems"),i=a.length;if(void 0===i&&(i=0),i>4)alert("Você selecionou "+i+" habilidades mas o máximo é 4.");else{for(var t="",n=0;n<i;++n)t+=a[n].label,n<i-1&&(t+=", ");var m=e+"\n"+t,r="<div><strong>"+e+"</strong></div><div>Habilidades: <em>"+t+"</em></div>";$("#jqxListBox_pokemons").jqxListBox("updateItem",{value:m,html:r},pokemonSelecionadoAntesDeEditar.value),pokemonsAtuais[timeAtual][$("#jqxListBox_pokemons").jqxListBox("getSelectedIndex")]=m,$("#jqxWindow_acaoPokemon").jqxWindow("close")}}else alert("Por favor selecione o nome do Pokémon.")}function corrigirComboBox(o){$(o).find(".jqx-combobox-arrow-normal").height(28)}temaGlobal="custom_office_dark_blue";var temaLocal=temaGlobal,pokemonSelecionadoAntesDeEditar,tamanhoDePagina=5,timeAtual="",pokemonsAtuais={};$(document).ready(function(){inicializarBase(temaLocal,"../../",!1,"569px");var o=Cookies.get("sessao"),e=[];$("#jqxWindow_criarTime").jqxWindow({width:"640px",height:"100px",theme:temaLocal,autoOpen:!1,isModal:!0,resizable:!1,draggable:!1}),$("#jqxWindow_acaoPokemon").jqxWindow({width:"640px",height:"640px",theme:temaLocal,autoOpen:!1,isModal:!0,resizable:!1,draggable:!1,maxHeight:"640px"}),$(window).resize(function(){centralizarJanela("#jqxWindow_criarTime"),centralizarJanela("#jqxWindow_acaoPokemon")}),$("#jqxButton_criarTime").jqxButton({width:"110px",height:"36px",theme:temaLocal}),$("#jqxButton_excluirTime").jqxButton({width:"130px",height:"36px",theme:temaLocal}),$("#jqxDropDownList_times").jqxDropDownList({width:"242px",height:"25px",theme:temaLocal,source:e,autoDropDownHeight:!0,selectedIndex:0,placeHolder:e.length>0?"Selecione um time":"Lista de times vazia"}),$("#jqxButton_adicionarPokemon").jqxButton({width:"185px",height:"36px",theme:temaLocal}),$("#jqxButton_excluirPokemon").jqxButton({width:"170px",height:"36px",theme:temaLocal}),$("#jqxButton_editarPokemon").jqxButton({width:"170px",height:"36px",theme:temaLocal}),$("#jqxListBox_pokemons").jqxListBox({width:"531px",height:"308px",theme:temaLocal}),$("#jqxInput_criarTime_nomeDoTime").jqxInput({width:"290px",height:"34px",theme:temaLocal}),$("#jqxButton_criarTime_criar").jqxButton({width:"80px",height:"36px",theme:temaLocal});var a={};a.pagergotopagestring="Ir para página:",a.pagershowrowsstring="Número de linhas:",a.pagerrangestring=" de ",a.pagernextbuttonstring="Próxima página",a.pagerpreviousbuttonstring="Página anterior",a.sortascendingstring="Ordenar ascendent",a.sortdescendingstring="Ordenar descendente",a.sortremovestring="Remover";var i={datatype:"json",datafields:[{name:"name",type:"string"}],url:"http://pokeapi.co/api/v2/pokemon/?limit=811"},t=new $.jqx.dataAdapter(i);$("#jqxGrid_acaoPokemon_nome").jqxGrid({width:"628px",height:"206px",theme:temaLocal,source:t,localization:a,sortable:!1,pageable:!0,autoheight:!1,columnsresize:!1,pagermode:"simple",pagesize:tamanhoDePagina,pagerbuttonscount:5,columns:[{text:"Nome",datafield:"name",width:"628px"}]}),$("#jqxGrid_acaoPokemon_nome").on("rowselect",function(o){null!==o.args&&null!==o.args.row&&$("#p_acaoPokemon_nomeSelecionado").text("Nome Selecionado: "+o.args.row.name)});var n={datatype:"json",datafields:[{name:"name",type:"string"}],url:"http://pokeapi.co/api/v2/move/?limit=639"},m=new $.jqx.dataAdapter(n);$("#jqxGrid_acaoPokemon_habilidades").jqxGrid({width:"628px",height:"206px",theme:temaLocal,source:m,localization:a,selectionmode:"multiplerowsextended",sortable:!1,pageable:!0,autoheight:!1,columnsresize:!1,pagermode:"simple",pagesize:tamanhoDePagina,pagerbuttonscount:5,columns:[{text:"Habilidade",datafield:"name",width:"628px"}]}),$("#jqxGrid_acaoPokemon_habilidades").on("rowselect",function(o){if(null!==o.args&&null!==o.args.row){var e=$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("getItems"),a=!1;if(void 0!==e)for(var i=0;i<e.length;++i)if(e[i].label===o.args.row.name){a=!0;break}a||$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("addItem",o.args.row.name),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("selectItem",o.args.row.name)}}),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox({width:"628px",height:"28px",theme:temaLocal,autoDropDownHeight:!0,multiSelect:!0}),$("#jqxButton_acaoPokemon_acao").jqxButton({width:"120px",height:"36px",theme:temaLocal}),$("#jqxButton_criarTime").on("click",function(o){centralizarJanela("#jqxWindow_criarTime"),$("#jqxInput_criarTime_nomeDoTime").jqxInput("val",""),$("#jqxWindow_criarTime").jqxWindow("open")}),$("#jqxButton_criarTime_criar").on("click",function(e){var a=$("#jqxInput_criarTime_nomeDoTime").val();if(""===a)alert("Especifique um nome.");else{for(var i=$("#jqxDropDownList_times").jqxDropDownList("getItems"),t=i.length,n=!1,m=0;m<t;++m)if(i[m].label===a){n=!0;break}n?alert("O nome fornecido já está em uso."):($("#jqxButton_criarTime_criar").jqxButton({disabled:!0}),$.ajax({type:"POST",url:"pCriarTime",data:{sessao:o,nomeDoTime:a},dataType:"text",async:!1}).done(function(o){"sucesso"===o&&(pokemonsAtuais[a]=[],timeAtual=a,$("#jqxDropDownList_times").jqxDropDownList("addItem",a),$("#jqxDropDownList_times").jqxDropDownList("selectIndex",t),$("#espacoDeEdicaoDeTime").show(),$("#jqxWindow_criarTime").jqxWindow("close"))}).fail(function(){alert("Não foi possível contactar o servidor.")}),$("#jqxButton_criarTime_criar").jqxButton({disabled:!1}))}}),$("#jqxButton_excluirTime").on("click",function(e){if(0===$("#jqxDropDownList_times").jqxDropDownList("getItems").length)alert("A lista de times está vazia.");else{$("#jqxButton_excluirTime").jqxButton({disabled:!0});var a=$("#jqxDropDownList_times").jqxDropDownList("val");$.ajax({type:"POST",url:"pExcluirTime",data:{sessao:o,nomeDoTime:a},dataType:"text",async:!1}).done(function(o){if("sucesso"===o){var e=$("#jqxDropDownList_times").jqxDropDownList("getSelectedIndex");delete pokemonsAtuais[timeAtual],$("#jqxDropDownList_times").jqxDropDownList("removeAt",e),$("#jqxDropDownList_times").jqxDropDownList("clearSelection")}}).fail(function(){alert("Não foi possível contactar o servidor.")}),$("#jqxDropDownList_times").jqxDropDownList("getItems").length>0?$("#jqxDropDownList_times").jqxDropDownList({placeHolder:"Selecione um time"}):($("#jqxDropDownList_times").jqxDropDownList({placeHolder:"Lista de times vazia"}),$("#espacoDeEdicaoDeTime").hide()),$("#jqxListBox_pokemons").jqxListBox("clear"),$("#jqxButton_excluirTime").jqxButton({disabled:!1})}}),$("#jqxDropDownList_times").on("select",function(o){$("#jqxListBox_pokemons").jqxListBox("clear"),timeAtual=$("#jqxDropDownList_times").jqxDropDownList("getSelectedItem").label;for(var e=0;e<pokemonsAtuais[timeAtual].length;++e){var a=pokemonsAtuais[timeAtual][e],i=pokemonsAtuais[timeAtual][e].split("\n");$("#jqxListBox_pokemons").jqxListBox("addItem",{value:a,html:"<div><strong>"+i[0]+"</strong></div><div>Habilidades: <em>"+i[1]+"</em></div>"})}}),$("#jqxButton_adicionarPokemon").on("click",function(o){var e=$("#jqxListBox_pokemons").jqxListBox("getItems");void 0===e&&(e=0),6===e.length?alert("A lista de Pokémon está cheia.\nNão se pode ter mais do que 6 Pokémons."):($("#jqxGrid_acaoPokemon_nome").jqxGrid("clearselection"),$("#jqxGrid_acaoPokemon_nome").jqxGrid("gotopage",0),$("#p_acaoPokemon_nomeSelecionado").text("Nome Selecionado:"),$("#jqxGrid_acaoPokemon_habilidades").jqxGrid("clearselection"),$("#jqxGrid_acaoPokemon_habilidades").jqxGrid("gotopage",0),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("clearSelection"),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("clear"),corrigirComboBox("#jqxComboBox_acaoPokemon_habilidades"),$("#jqxButton_acaoPokemon_acao").jqxButton("val","Adicionar"),centralizarJanela("#jqxWindow_acaoPokemon"),$("#jqxWindow_acaoPokemon").jqxWindow("title","Novo Pokemon"),$("#jqxWindow_acaoPokemon").jqxWindow("open"))}),$("#jqxButton_excluirPokemon").on("click",function(o){var e=$("#jqxListBox_pokemons").jqxListBox("getSelectedItem");if(null!==e&&void 0!==e){var a=$("#jqxListBox_pokemons").jqxListBox("getSelectedIndex");pokemonsAtuais[timeAtual].splice(a,1),$("#jqxListBox_pokemons").jqxListBox("removeItem",e)}}),$("#jqxButton_editarPokemon").on("click",function(o){if(null!==(pokemonSelecionadoAntesDeEditar=$("#jqxListBox_pokemons").jqxListBox("getSelectedItem"))&&void 0!==pokemonSelecionadoAntesDeEditar){var e,a=pokemonSelecionadoAntesDeEditar.value.split("\n"),i=a[0],t=a[1].split(", "),n=$("#jqxGrid_acaoPokemon_nome").jqxGrid("getrows");for(e=0;e<n.length&&$("#jqxGrid_acaoPokemon_nome").jqxGrid("getcellvalue",e,"name")!==i;++e);for($("#jqxGrid_acaoPokemon_nome").jqxGrid("selectrow",e),$("#jqxGrid_acaoPokemon_nome").jqxGrid("gotopage",Math.floor(e/tamanhoDePagina)),$("#jqxGrid_acaoPokemon_habilidades").jqxGrid("clearselection"),$("#jqxGrid_acaoPokemon_habilidades").jqxGrid("gotopage",0),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("clear"),e=0;e<t.length;++e)$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("addItem",t[e]),$("#jqxComboBox_acaoPokemon_habilidades").jqxComboBox("selectIndex",e);corrigirComboBox("#jqxComboBox_acaoPokemon_habilidades"),$("#jqxButton_acaoPokemon_acao").jqxButton("val","Salvar"),centralizarJanela("#jqxWindow_acaoPokemon"),$("#jqxWindow_acaoPokemon").jqxWindow("title","Editar Pokemon"),$("#jqxWindow_acaoPokemon").jqxWindow("open")}}),$("#jqxButton_acaoPokemon_acao").on("click",function(o){"Adicionar"===$("#jqxButton_acaoPokemon_acao").val()?adicionarPokemon():editarPokemon()}),$("#espacoDeEdicaoDeTime").hide(),finalizarBase()});